(function($){jQuery.fn.dacolorpicker=function(options){var configuration={idDestino:"triggerDest"}
jQuery.extend(configuration,options);this.each(function(){var lanzador=$(this);var r=new Array("00","33","66","99","CC","FF");var g=new Array("00","33","66","99","CC","FF");var b=new Array("00","33","66","99","CC","FF");var colores="";for(i=0;i<r.length;i++){for(j=0;j<g.length;j++){for(k=0;k<b.length;k++){var nuevoc="#"+r[i]+g[j]+b[k];colores+='<span class="color-pick" style="background:'+nuevoc+'" title="'+nuevoc+'"></span>';}}}
lanzador.attr("value",0);var idPaleta="#"+$(this).attr("name")+"_paleta";var idInfo=$(this).attr("name")+"_paleta_info";var daPicker=$('<div id="'+idPaleta+'" class="dacolor-picker">'+colores+'<div class="cpicker-info" id="'+idInfo+'">Color: </div></div>');daPicker.appendTo("body");lanzador.click(function(e){e.preventDefault();var state=$(this).attr("value");if(state==0){lanzador.attr("value",1);var posicion=$(this).position();var posx=posicion.left+lanzador.width()+4;var posy=posicion.top;daPicker.css({"position":"absolute","top":posy,"left":posx});daPicker.fadeIn(500);}
else{lanzador.attr("value",0);daPicker.fadeOut(200);}});daPicker.mouseleave(function(){lanzador.attr("value",0);daPicker.fadeOut(200);});daPicker.delegate("span","click",function(){var color=$(this).attr("title");var destino="#"+configuration.idDestino;$(destino).attr('value',color);daPicker.fadeOut(200);});daPicker.delegate("span","mouseover",function(){var color=$(this).attr("title");var infoLabel="#"+idInfo;$(infoLabel).html('Color: '+color);});});return this;};})(jQuery);